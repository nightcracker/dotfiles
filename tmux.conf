# use ctrl+a
# set-option -g prefix C-a
# bind C-a send-prefix
# unbind C-b

# hjkl pane handling
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind C-b last-window
bind b send-prefix

# mouse
# https://stackoverflow.com/a/40902312/565635
run-shell "tmux setenv -g TMUX_VERSION $(tmux -V | cut -c 6-)"

if-shell -b '[ "$(echo "$TMUX_VERSION < 2.1" | bc)" = 1 ]' \
  "set -g mouse-select-pane on; set -g mode-mouse on; \
    set -g mouse-resize-pane on; set -g mouse-select-window on"

# In version 2.1 "mouse" replaced the previous 4 mouse options
if-shell -b '[ "$(echo "$TMUX_VERSION >= 2.1" | bc)" = 1 ]' \
  "set -g mouse on"

# UTF8 is autodetected in 2.2 onwards, but errors if explicitly set
if-shell -b '[ "$(echo "$TMUX_VERSION < 2.2" | bc)" = 1 ]' \
  "set -g utf8 on; set -g status-utf8 on; set -g mouse-utf8 on"

# setw -g mouse
# set -g mode-mouse on
# setw -g mouse-select-window on
# setw -g mouse-select-pane on

# copy/paste
setw -g mode-keys vi
bind-key -T copy-mode-vi y send-keys copy-pipe 'xclip -selection clipboard >/dev/null'

# title 
set -g set-titles on

# start numbering at 1
set -g base-index 1

# no escape time (annoying, vim)
set -sg escape-time 0

# bar color
set -g status-bg colour11
set -g status-fg colour8

# shell
set-option -g default-shell $SHELL

# better mouse mode
set -g @emulate-scroll-for-no-mouse-alternate-buffer "on"
run-shell ~/dotfiles/tmux-better-mouse-mode/scroll_copy_mode.tmux
